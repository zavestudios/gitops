# Big Bang values for sandbox environment
# Minimal scope: Istio + ArgoCD + Monitoring (skip GitLab)

# Domain configuration (placeholder for now, will update when Cloudflare Tunnel ready)
domain: sandbox.local

# Disable packages we don't need yet
addons:
  gitlab:
    enabled: false  # Too resource-intensive, using GitHub.com
  gitlabRunner:
    enabled: false
  argocd:
    enabled: true
    values:
      # Override Iron Bank images with public Quay.io images
      global:
        image:
          repository: quay.io/argoproj/argocd
          tag: v2.10.0
      dex:
        image:
          repository: quay.io/dexidp/dex
          tag: v2.37.0
      redis:
        image:
          repository: docker.io/redis
          tag: "7.0"
      controller:
        resources:
          requests:
            cpu: 100m
            memory: 256Mi
      server:
        resources:
          requests:
            cpu: 50m
            memory: 128Mi
      repoServer:
        resources:
          requests:
            cpu: 50m
            memory: 128Mi

# Enable minimal package set
# Image overrides: Use public registries instead of Iron Bank
istiod:
  enabled: true
  values:
    global:
      # Override Iron Bank images with public Docker Hub images
      hub: docker.io/istio
      tag: 1.20.0
      proxy:
        resources:
          requests:
            cpu: 10m
            memory: 40Mi
    pilot:
      resources:
        requests:
          cpu: 100m
          memory: 128Mi

monitoring:
  enabled: true
  values:
    prometheus:
      prometheusSpec:
        image:
          registry: docker.io
          repository: prom/prometheus
          tag: v2.50.0
    alertmanager:
      alertmanagerSpec:
        image:
          registry: docker.io
          repository: prom/alertmanager
          tag: v0.27.0
    grafana:
      image:
        registry: docker.io
        repository: grafana/grafana
        tag: 10.3.0
    prometheus-node-exporter:
      image:
        registry: docker.io
        repository: prom/node-exporter
        tag: v1.7.0
    kube-state-metrics:
      image:
        registry: registry.k8s.io
        repository: kube-state-metrics/kube-state-metrics
        tag: v2.10.1
    prometheusOperator:
      image:
        registry: quay.io
        repository: prometheus-operator/prometheus-operator
        tag: v0.71.0
      prometheusConfigReloader:
        image:
          registry: quay.io
          repository: prometheus-operator/prometheus-config-reloader
          tag: v0.71.0

kiali:
  enabled: true
  values:
    deployment:
      image_name: quay.io/kiali/kiali
      image_version: v1.79.0
